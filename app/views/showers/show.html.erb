<% if @shower.photo.present? %>
<div class="banner" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url('<%= cl_image_path @shower.photo, crop: :fill %>');">
</div>
<% else %>
<div class="banner" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url('https://res.cloudinary.com/dtzq3rssy/image/upload/v1563291134/architecture-bathroom-bathtub-1910472_om1swy.jpg');">
</div>
<% end %>

<div class="container border shadow-sm my-3 py-3 bg-white rounded">

  <div class="d-flex bd-highlight">
    <div class="p-2 flex-grow-1 bd-highlight">
      <h1><%= @shower.title %> </h1>
      <p> <%= @shower.address %> </p>
      <hr>

      <h3> Overview: </h3>

      <ul class="list-unstyled">
        <li class="py-2"><i class="fas fa-shower icon"></i><strong> Top reasons to have a shower here: </strong></li>
        <li class="pl-2"> <%= @shower.description %> </li>
        <li class="py-2"><i class="fas fa-spa icon"></i><strong> This is for you:</strong></li>
        <li class="pl-2"> <%= @shower.features %> </li>
        <li class="py-2"><i class="fas fa-tag icon"></i><strong> Pricing</strong></li>
        <li class="pl-2"> <%= @shower.price %> <span>â‚¬</span> </li>
      </ul>
    </div>
    <div class="pr-5 pt-3 bd-highlight w-25 text-center">
      <% if @shower.user.avatar.present? %>
      <%= cl_image_tag @shower.user.avatar, width: 56, height: 56, crop: :thumb, gravity: :face, class:"avatar-large" %>
      <% else %>
      <%= image_tag "avatar.png",  class:"avatar-large" %>
      <% end %>
      <p><%= @shower.user.first_name %></p>
    </div>
    <div class="p-3">
      <div
        id="map"
        style="height: 250px;"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY']%>"
      ></div>
      <%= render 'bookings/form' %>
    </div>
  </div>
  <hr>
  <div class="d-flex justify-content-center">
    <%= link_to "Edit", edit_shower_path(@shower), class: "btn btn-link m-1" %>
    <%= link_to "Delete Shower", shower_path(@shower), class: "btn btn-danger m-1",
    method: :delete,
    data: { confirm: "Please confirm you want to delete this shower" } %>
  </div>


</div>
